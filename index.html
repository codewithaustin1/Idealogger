<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notion-Style Idea Logger</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        :root {
            --primary-color: #37352f;
            --secondary-color: #ffffff;
            --accent-color: #3b82f6;
            --sidebar-color: #f7f6f3;
            --border-color: #e6e6e6;
            --tag-tech: #e0f2fe;
            --tag-design: #fef3c7;
            --tag-business: #dcfce7;
            --tag-personal: #f3e8ff;
            --text-light: #787774;
            --text-dark: #37352f;
            --hover-color: #f5f5f5;
            --archive-color: #fef2f2;
        }

        body {
            background-color: #fff;
            color: var(--primary-color);
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 240px;
            background-color: var(--sidebar-color);
            padding: 20px 0;
            border-right: 1px solid var(--border-color);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .logo {
            display: flex;
            align-items: center;
            padding: 0 20px 24px;
            font-weight: 700;
            font-size: 18px;
            color: var(--primary-color);
        }

        .logo-icon {
            margin-right: 10px;
            color: var(--accent-color);
        }

        .nav-section {
            padding: 8px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .nav-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-light);
            padding: 4px 20px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .nav-item {
            padding: 8px 20px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: background-color 0.2s;
            font-size: 14px;
        }

        .nav-item:hover {
            background-color: var(--hover-color);
        }

        .nav-item.active {
            background-color: var(--accent-color);
            color: white;
            border-radius: 0 4px 4px 0;
        }

        .nav-item i {
            margin-right: 10px;
            width: 18px;
            text-align: center;
        }

        /* Main content */
        .main-content {
            flex: 1;
            margin-left: 240px;
            padding: 24px;
            max-width: 900px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .page-title {
            font-size: 32px;
            font-weight: 700;
        }

        .search-container {
            position: relative;
            width: 300px;
        }

        .search-input {
            width: 100%;
            padding: 10px 16px 10px 40px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.2s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
        }

        /* Idea form */
        .idea-form {
            background-color: var(--sidebar-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
        }

        .form-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            margin-bottom: 6px;
            color: var(--text-light);
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
            transition: border-color 0.2s;
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .tag-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .tag-option {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            border: 1px solid transparent;
            transition: all 0.2s;
        }

        .tag-option:hover {
            opacity: 0.9;
        }

        .tag-option.selected {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 1px var(--accent-color);
        }

        .tag-tech { background-color: var(--tag-tech); }
        .tag-design { background-color: var(--tag-design); }
        .tag-business { background-color: var(--tag-business); }
        .tag-personal { background-color: var(--tag-personal); }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            margin-top: 20px;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 4px;
            border: none;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background-color: var(--accent-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #2563eb;
        }

        .btn-secondary {
            background-color: #f1f1f1;
            color: var(--text-dark);
        }

        .btn-secondary:hover {
            background-color: #e5e5e5;
        }

        /* Ideas list */
        .ideas-list {
            margin-top: 30px;
        }

        .list-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .list-title {
            font-size: 20px;
            font-weight: 600;
        }

        .list-controls {
            display: flex;
            gap: 10px;
        }

        .filter-select {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
            background-color: white;
        }

        .idea-card {
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 20px;
            margin-bottom: 16px;
            transition: all 0.2s;
            background-color: white;
        }

        .idea-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .idea-card.archived {
            background-color: var(--archive-color);
            opacity: 0.8;
        }

        .idea-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .idea-title {
            font-size: 18px;
            font-weight: 600;
            margin-right: 10px;
        }

        .idea-category {
            font-size: 13px;
            padding: 4px 10px;
            border-radius: 4px;
            background-color: #f1f1f1;
            color: var(--text-light);
        }

        .idea-content {
            color: var(--text-dark);
            line-height: 1.6;
            margin-bottom: 16px;
            font-size: 15px;
        }

        .idea-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .idea-tags {
            display: flex;
            gap: 8px;
        }

        .idea-tag {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
        }

        .idea-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-light);
            font-size: 14px;
            transition: color 0.2s;
            padding: 4px 8px;
            border-radius: 4px;
        }

        .action-btn:hover {
            color: var(--accent-color);
            background-color: var(--hover-color);
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-light);
        }

        .empty-state i {
            font-size: 48px;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        .empty-state h3 {
            font-size: 20px;
            margin-bottom: 8px;
        }

        /* Archive badge */
        .archive-badge {
            background-color: #fef2f2;
            color: #dc2626;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                width: 60px;
                padding: 20px 0;
            }
            
            .nav-title, .logo-text {
                display: none;
            }
            
            .logo {
                justify-content: center;
                padding: 0 0 24px;
            }
            
            .logo-icon {
                margin-right: 0;
            }
            
            .nav-item {
                justify-content: center;
                padding: 12px 0;
            }
            
            .nav-item i {
                margin-right: 0;
            }
            
            .main-content {
                margin-left: 60px;
                padding: 16px;
            }
            
            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }
            
            .search-container {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <i class="fas fa-lightbulb logo-icon"></i>
            <span class="logo-text">Idea Logger</span>
        </div>
        
        <div class="nav-section">
            <div class="nav-title">Views</div>
            <div class="nav-item active" data-view="all">
                <i class="fas fa-list"></i>
                <span>All Ideas</span>
            </div>
            <div class="nav-item" data-view="active">
                <i class="fas fa-inbox"></i>
                <span>Active</span>
            </div>
            <div class="nav-item" data-view="archived">
                <i class="fas fa-archive"></i>
                <span>Archived</span>
            </div>
        </div>
        
        <div class="nav-section">
            <div class="nav-title">Categories</div>
            <div class="nav-item" data-category="all">
                <i class="fas fa-tags"></i>
                <span>All Categories</span>
            </div>
            <div class="nav-item" data-category="tech">
                <i class="fas fa-code"></i>
                <span>Technology</span>
            </div>
            <div class="nav-item" data-category="design">
                <i class="fas fa-palette"></i>
                <span>Design</span>
            </div>
            <div class="nav-item" data-category="business">
                <i class="fas fa-chart-line"></i>
                <span>Business</span>
            </div>
            <div class="nav-item" data-category="personal">
                <i class="fas fa-user"></i>
                <span>Personal</span>
            </div>
        </div>
        
        <div class="nav-section">
            <div class="nav-title">Tags</div>
            <div class="nav-item" data-tag="all">
                <i class="fas fa-hashtag"></i>
                <span>All Tags</span>
            </div>
            <div class="nav-item" data-tag="feature">
                <i class="fas fa-star"></i>
                <span>Feature</span>
            </div>
            <div class="nav-item" data-tag="improvement">
                <i class="fas fa-wrench"></i>
                <span>Improvement</span>
            </div>
            <div class="nav-item" data-tag="bug">
                <i class="fas fa-bug"></i>
                <span>Bug Fix</span>
            </div>
        </div>
        
        <div class="nav-section">
            <div class="nav-title">Stats</div>
            <div class="nav-item">
                <i class="fas fa-chart-bar"></i>
                <span>Total Ideas: <span id="total-count">0</span></span>
            </div>
            <div class="nav-item">
                <i class="fas fa-lightbulb"></i>
                <span>Active: <span id="active-count">0</span></span>
            </div>
            <div class="nav-item">
                <i class="fas fa-archive"></i>
                <span>Archived: <span id="archived-count">0</span></span>
            </div>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <h1 class="page-title" id="page-title">All Ideas</h1>
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" id="search-input" placeholder="Search ideas...">
            </div>
        </div>
        
        <!-- Idea Form -->
        <div class="idea-form" id="idea-form">
            <h2 class="form-title">Add New Idea</h2>
            <div class="form-group">
                <label class="form-label" for="idea-title">Title</label>
                <input type="text" class="form-input" id="idea-title" placeholder="Enter idea title">
            </div>
            
            <div class="form-group">
                <label class="form-label" for="idea-content">Description</label>
                <textarea class="form-textarea" id="idea-content" placeholder="Describe your idea..."></textarea>
            </div>
            
            <div class="form-group">
                <label class="form-label">Category</label>
                <select class="form-select" id="idea-category">
                    <option value="tech">Technology</option>
                    <option value="design">Design</option>
                    <option value="business">Business</option>
                    <option value="personal">Personal</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">Tags</label>
                <div class="tag-container" id="tag-container">
                    <div class="tag-option tag-tech" data-tag="web">Web</div>
                    <div class="tag-option tag-design" data-tag="mobile">Mobile</div>
                    <div class="tag-option tag-business" data-tag="feature">Feature</div>
                    <div class="tag-option tag-personal" data-tag="improvement">Improvement</div>
                    <div class="tag-option tag-tech" data-tag="ai">AI</div>
                    <div class="tag-option tag-design" data-tag="ui">UI/UX</div>
                </div>
            </div>
            
            <div class="form-actions">
                <button class="btn btn-secondary" id="cancel-btn">Cancel</button>
                <button class="btn btn-primary" id="save-btn">Save Idea</button>
            </div>
        </div>
        
        <!-- Ideas List -->
        <div class="ideas-list">
            <div class="list-header">
                <h2 class="list-title" id="list-title">Recent Ideas</h2>
                <div class="list-controls">
                    <select class="filter-select" id="sort-select">
                        <option value="newest">Newest First</option>
                        <option value="oldest">Oldest First</option>
                        <option value="title">By Title</option>
                    </select>
                    <select class="filter-select" id="filter-category">
                        <option value="all">All Categories</option>
                        <option value="tech">Technology</option>
                        <option value="design">Design</option>
                        <option value="business">Business</option>
                        <option value="personal">Personal</option>
                    </select>
                </div>
            </div>
            
            <div id="ideas-container">
                <!-- Ideas will be loaded here -->
            </div>
        </div>
    </div>

    <script>
        // Sample initial data
        let ideas = [
            {
                id: 1,
                title: "Dark mode for the app",
                content: "Implement a dark mode toggle in settings to reduce eye strain during nighttime use.",
                category: "design",
                tags: ["ui", "feature", "mobile"],
                createdAt: "2023-10-15",
                archived: false
            },
            {
                id: 2,
                title: "AI-powered search suggestions",
                content: "Use machine learning to provide better search results based on user behavior and past searches.",
                category: "tech",
                tags: ["ai", "feature", "web"],
                createdAt: "2023-10-10",
                archived: false
            },
            {
                id: 3,
                title: "Weekly progress reports",
                content: "Generate automated weekly reports showing completed tasks and upcoming priorities.",
                category: "business",
                tags: ["feature", "improvement"],
                createdAt: "2023-10-05",
                archived: true
            },
            {
                id: 4,
                title: "Offline mode for mobile",
                content: "Allow users to access their ideas and make changes while offline, syncing when connection is restored.",
                category: "tech",
                tags: ["mobile", "feature"],
                createdAt: "2023-09-28",
                archived: false
            }
        ];

        // State variables
        let currentView = 'all';
        let currentCategory = 'all';
        let currentTag = 'all';
        let searchQuery = '';
        let sortBy = 'newest';
        let selectedTags = [];
        let editingId = null;

        // DOM elements
        const ideasContainer = document.getElementById('ideas-container');
        const searchInput = document.getElementById('search-input');
        const ideaForm = document.getElementById('idea-form');
        const ideaTitleInput = document.getElementById('idea-title');
        const ideaContentInput = document.getElementById('idea-content');
        const ideaCategorySelect = document.getElementById('idea-category');
        const saveBtn = document.getElementById('save-btn');
        const cancelBtn = document.getElementById('cancel-btn');
        const sortSelect = document.getElementById('sort-select');
        const filterCategory = document.getElementById('filter-category');
        const tagOptions = document.querySelectorAll('.tag-option');
        const pageTitle = document.getElementById('page-title');
        const listTitle = document.getElementById('list-title');
        const navItems = document.querySelectorAll('.nav-item');
        const totalCount = document.getElementById('total-count');
        const activeCount = document.getElementById('active-count');
        const archivedCount = document.getElementById('archived-count');

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            renderIdeas();
            updateStats();
            
            // Event listeners
            searchInput.addEventListener('input', function() {
                searchQuery = this.value.toLowerCase();
                renderIdeas();
            });
            
            saveBtn.addEventListener('click', saveIdea);
            cancelBtn.addEventListener('click', resetForm);
            
            sortSelect.addEventListener('change', function() {
                sortBy = this.value;
                renderIdeas();
            });
            
            filterCategory.addEventListener('change', function() {
                currentCategory = this.value;
                renderIdeas();
                updatePageTitle();
            });
            
            // Tag selection
            tagOptions.forEach(tag => {
                tag.addEventListener('click', function() {
                    const tagValue = this.getAttribute('data-tag');
                    
                    if (selectedTags.includes(tagValue)) {
                        selectedTags = selectedTags.filter(t => t !== tagValue);
                        this.classList.remove('selected');
                    } else {
                        selectedTags.push(tagValue);
                        this.classList.add('selected');
                    }
                });
            });
            
            // Navigation
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Remove active class from all nav items
                    navItems.forEach(nav => nav.classList.remove('active'));
                    
                    // Add active class to clicked item
                    this.classList.add('active');
                    
                    // Handle view change
                    if (this.getAttribute('data-view')) {
                        currentView = this.getAttribute('data-view');
                        updatePageTitle();
                        renderIdeas();
                    }
                    
                    // Handle category filter
                    if (this.getAttribute('data-category')) {
                        currentCategory = this.getAttribute('data-category');
                        filterCategory.value = currentCategory;
                        updatePageTitle();
                        renderIdeas();
                    }
                    
                    // Handle tag filter
                    if (this.getAttribute('data-tag')) {
                        currentTag = this.getAttribute('data-tag');
                        updatePageTitle();
                        renderIdeas();
                    }
                });
            });
        });

        // Render ideas based on filters
        function renderIdeas() {
            let filteredIdeas = filterIdeas();
            
            // Sort ideas
            filteredIdeas = sortIdeas(filteredIdeas);
            
            // Update list title
            updateListTitle(filteredIdeas.length);
            
            // Render ideas
            if (filteredIdeas.length === 0) {
                ideasContainer.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-lightbulb"></i>
                        <h3>No ideas found</h3>
                        <p>${searchQuery ? 'Try a different search term' : 'Add your first idea using the form above'}</p>
                    </div>
                `;
                return;
            }
            
            ideasContainer.innerHTML = filteredIdeas.map(idea => `
                <div class="idea-card ${idea.archived ? 'archived' : ''}" data-id="${idea.id}">
                    <div class="idea-header">
                        <div>
                            <h3 class="idea-title">${idea.title}</h3>
                            <span class="idea-category">${getCategoryName(idea.category)}</span>
                        </div>
                        <div>
                            ${idea.archived ? '<span class="archive-badge">Archived</span>' : ''}
                        </div>
                    </div>
                    <div class="idea-content">${idea.content}</div>
                    <div class="idea-footer">
                        <div class="idea-tags">
                            ${idea.tags.map(tag => `<span class="idea-tag ${getTagClass(tag)}">${tag}</span>`).join('')}
                        </div>
                        <div class="idea-actions">
                            <button class="action-btn edit-btn" data-id="${idea.id}">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            ${idea.archived ? 
                                `<button class="action-btn unarchive-btn" data-id="${idea.id}">
                                    <i class="fas fa-box-open"></i> Unarchive
                                </button>` : 
                                `<button class="action-btn archive-btn" data-id="${idea.id}">
                                    <i class="fas fa-archive"></i> Archive
                                </button>`
                            }
                            <button class="action-btn delete-btn" data-id="${idea.id}">
                                <i class="fas fa-trash"></i> Delete
                            </button>
                        </div>
                    </div>
                    <div class="idea-date">Added on ${formatDate(idea.createdAt)}</div>
                </div>
            `).join('');
            
            // Add event listeners to action buttons
            document.querySelectorAll('.edit-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    editIdea(id);
                });
            });
            
            document.querySelectorAll('.archive-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    toggleArchive(id, true);
                });
            });
            
            document.querySelectorAll('.unarchive-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    toggleArchive(id, false);
                });
            });
            
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    deleteIdea(id);
                });
            });
        }

        // Filter ideas based on current filters
        function filterIdeas() {
            return ideas.filter(idea => {
                // Filter by view (all, active, archived)
                if (currentView === 'active' && idea.archived) return false;
                if (currentView === 'archived' && !idea.archived) return false;
                
                // Filter by category
                if (currentCategory !== 'all' && idea.category !== currentCategory) return false;
                
                // Filter by tag
                if (currentTag !== 'all' && !idea.tags.includes(currentTag)) return false;
                
                // Filter by search query
                if (searchQuery) {
                    const searchLower = searchQuery.toLowerCase();
                    const titleMatch = idea.title.toLowerCase().includes(searchLower);
                    const contentMatch = idea.content.toLowerCase().includes(searchLower);
                    const tagMatch = idea.tags.some(tag => tag.toLowerCase().includes(searchLower));
                    
                    if (!titleMatch && !contentMatch && !tagMatch) return false;
                }
                
                return true;
            });
        }

        // Sort ideas based on selected sort option
        function sortIdeas(ideasList) {
            return [...ideasList].sort((a, b) => {
                if (sortBy === 'newest') {
                    return new Date(b.createdAt) - new Date(a.createdAt);
                } else if (sortBy === 'oldest') {
                    return new Date(a.createdAt) - new Date(b.createdAt);
                } else if (sortBy === 'title') {
                    return a.title.localeCompare(b.title);
                }
                return 0;
            });
        }

        // Save or update an idea
        function saveIdea() {
            const title = ideaTitleInput.value.trim();
            const content = ideaContentInput.value.trim();
            const category = ideaCategorySelect.value;
            
            if (!title || !content) {
                alert('Please fill in both title and content');
                return;
            }
            
            if (editingId) {
                // Update existing idea
                const index = ideas.findIndex(idea => idea.id === editingId);
                if (index !== -1) {
                    ideas[index] = {
                        ...ideas[index],
                        title,
                        content,
                        category,
                        tags: selectedTags
                    };
                }
            } else {
                // Add new idea
                const newIdea = {
                    id: ideas.length > 0 ? Math.max(...ideas.map(i => i.id)) + 1 : 1,
                    title,
                    content,
                    category,
                    tags: [...selectedTags],
                    createdAt: new Date().toISOString().split('T')[0],
                    archived: false
                };
                ideas.unshift(newIdea);
            }
            
            resetForm();
            renderIdeas();
            updateStats();
        }

        // Edit an idea
        function editIdea(id) {
            const idea = ideas.find(idea => idea.id === id);
            if (!idea) return;
            
            editingId = id;
            ideaTitleInput.value = idea.title;
            ideaContentInput.value = idea.content;
            ideaCategorySelect.value = idea.category;
            
            // Reset and select tags
            tagOptions.forEach(tag => tag.classList.remove('selected'));
            selectedTags = [...idea.tags];
            tagOptions.forEach(tag => {
                if (selectedTags.includes(tag.getAttribute('data-tag'))) {
                    tag.classList.add('selected');
                }
            });
            
            // Update button text
            saveBtn.textContent = 'Update Idea';
            ideaForm.scrollIntoView({ behavior: 'smooth' });
        }

        // Archive/unarchive an idea
        function toggleArchive(id, archive) {
            const index = ideas.findIndex(idea => idea.id === id);
            if (index !== -1) {
                ideas[index].archived = archive;
                renderIdeas();
                updateStats();
            }
        }

        // Delete an idea
        function deleteIdea(id) {
            if (confirm('Are you sure you want to delete this idea?')) {
                ideas = ideas.filter(idea => idea.id !== id);
                renderIdeas();
                updateStats();
            }
        }

        // Reset form to add new idea
        function resetForm() {
            ideaTitleInput.value = '';
            ideaContentInput.value = '';
            ideaCategorySelect.value = 'tech';
            tagOptions.forEach(tag => tag.classList.remove('selected'));
            selectedTags = [];
            editingId = null;
            saveBtn.textContent = 'Save Idea';
        }

        // Update page title based on current view
        function updatePageTitle() {
            let title = '';
            
            if (currentView === 'active') {
                title = 'Active Ideas';
            } else if (currentView === 'archived') {
                title = 'Archived Ideas';
            } else if (currentCategory !== 'all') {
                title = `${getCategoryName(currentCategory)} Ideas`;
            } else {
                title = 'All Ideas';
            }
            
            pageTitle.textContent = title;
        }

        // Update list title with count
        function updateListTitle(count) {
            if (currentView === 'active') {
                listTitle.textContent = `Active Ideas (${count})`;
            } else if (currentView === 'archived') {
                listTitle.textContent = `Archived Ideas (${count})`;
            } else if (currentCategory !== 'all') {
                listTitle.textContent = `${getCategoryName(currentCategory)} Ideas (${count})`;
            } else {
                listTitle.textContent = `All Ideas (${count})`;
            }
        }

        // Update statistics
        function updateStats() {
            const total = ideas.length;
            const active = ideas.filter(idea => !idea.archived).length;
            const archived = ideas.filter(idea => idea.archived).length;
            
            totalCount.textContent = total;
            activeCount.textContent = active;
            archivedCount.textContent = archived;
        }

        // Helper functions
        function getCategoryName(category) {
            const names = {
                'tech': 'Technology',
                'design': 'Design',
                'business': 'Business',
                'personal': 'Personal'
            };
            return names[category] || category;
        }

        function getTagClass(tag) {
            const tagClasses = {
                'web': 'tag-tech',
                'mobile': 'tag-design',
                'feature': 'tag-business',
                'improvement': 'tag-personal',
                'ai': 'tag-tech',
                'ui': 'tag-design'
            };
            return tagClasses[tag] || 'tag-tech';
        }

        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return new Date(dateString).toLocaleDateString('en-US', options);
        }
    </script>
</body>
  </html>
